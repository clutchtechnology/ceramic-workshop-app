---
alwaysApply: true
---

# ç£¨æ–™è½¦é—´ Flutter ç›‘æ§åº”ç”¨è§„èŒƒ

> **æ ¸å¿ƒåŸåˆ™**: å¥¥å¡å§†å‰ƒåˆ€ - ç®€å•ã€ç›´æ¥ã€å¤Ÿç”¨å³å¯

---

## 1. é¡¹ç›®å®šä¹‰

```yaml
é¡¹ç›®åç§°: ceramic-workshop-app
åº”ç”¨ç±»å‹: Windows æ¡Œé¢å·¥ä¸šç›‘æ§ (å…¨å±è§¦æ‘¸å±)
ç›®æ ‡åˆ†è¾¨ç‡: 1920Ã—1080
æ•°æ®æº: REST API (åç«¯èšåˆ PLC æ•°æ®)
åç«¯åœ°å€: http://localhost:8080
```

---

## 2. ç›‘æ§è®¾å¤‡æ¸…å•

| è®¾å¤‡ç±»å‹ | æ•°é‡ | å…³é”®å‚æ•° | æ•°æ®å— | åˆ·æ–°å‘¨æœŸ |
|---------|------|---------|--------|---------|
| å›è½¬çª‘ | 9å° | æ¸©åº¦+åŠŸç‡+æ–™ä»“+ä¸‹æ–™ | DB3 | 5ç§’ |
| è¾Šé“çª‘ | 1å° | 6æ¸©åŒºÃ—(æ¸©åº¦+åŠŸç‡+ç”µæµ) | DB7 | 5ç§’ |
| SCRè®¾å¤‡ | 2å¥— | åŠŸç‡+èƒ½è€—+æµé‡ | DB11 | 5ç§’ |
| é£æœº | 2å° | åŠŸç‡+èƒ½è€—+ç”µæµ | DB11 | 5ç§’ |

**è®¾å¤‡æ˜ å°„**:
- å›è½¬çª‘: çª‘7,6,5,4 (çŸ­æ–™ä»“) + çª‘2,1 (æ— æ–™ä»“) + çª‘8,3,9 (é•¿æ–™ä»“)
- è¾Šé“çª‘: 6ä¸ªæ¸©åŒº (zone1-zone6)
- SCR: SCR1(è¡¨63) + SCR2(è¡¨64)
- é£æœº: é£æœº1(è¡¨65) + é£æœº2(è¡¨66)

---

## 3. æ¶æ„è§„èŒƒ (å¥¥å¡å§†å‰ƒåˆ€)

### ç›®å½•ç»“æ„
```
lib/
â”œâ”€â”€ main.dart                 # å…¥å£ + çª—å£åˆå§‹åŒ– + å…¨å±€èµ„æºç®¡ç†
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ api.dart             # API ç«¯ç‚¹å®šä¹‰
â”‚   â””â”€â”€ index.dart           # HTTP Client (å•ä¾‹)
â”œâ”€â”€ models/                   # æ•°æ®æ¨¡å‹ (çº¯æ•°æ®ç±»)
â”‚   â”œâ”€â”€ hopper_model.dart    # å›è½¬çª‘æ•°æ®
â”‚   â”œâ”€â”€ roller_kiln_model.dart  # è¾Šé“çª‘æ•°æ®
â”‚   â””â”€â”€ scr_fan_model.dart   # SCR+é£æœºæ•°æ®
â”œâ”€â”€ services/                 # æ•°æ®è·å– (åªè´Ÿè´£ API è°ƒç”¨)
â”‚   â”œâ”€â”€ hopper_service.dart
â”‚   â”œâ”€â”€ roller_kiln_service.dart
â”‚   â””â”€â”€ scr_fan_service.dart
â”œâ”€â”€ providers/                # é…ç½®ç®¡ç† (Provider)
â”‚   â”œâ”€â”€ realtime_config_provider.dart  # é˜ˆå€¼é…ç½®
â”‚   â””â”€â”€ admin_provider.dart            # ç®¡ç†å‘˜å¯†ç 
â”œâ”€â”€ pages/                    # é¡µé¢ (4ä¸ª)
â”‚   â”œâ”€â”€ top_bar.dart         # é¡¶éƒ¨å¯¼èˆª + é¡µé¢åˆ‡æ¢
â”‚   â”œâ”€â”€ realtime_dashboard_page.dart  # å®æ—¶å¤§å±
â”‚   â”œâ”€â”€ data_history_page.dart        # å†å²æ•°æ®
â”‚   â”œâ”€â”€ sensor_status_page.dart       # çŠ¶æ€ç›‘æ§
â”‚   â””â”€â”€ settings_page.dart            # ç³»ç»Ÿé…ç½®
â”œâ”€â”€ widgets/                  # å¯å¤ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ realtime_dashboard/  # å®æ—¶å¤§å±ç»„ä»¶
â”‚   â”œâ”€â”€ data_display/        # å†å²æ•°æ®ç»„ä»¶
â”‚   â””â”€â”€ icons/               # è‡ªå®šä¹‰å›¾æ ‡
â””â”€â”€ utils/                    # å·¥å…·ç±»
    â”œâ”€â”€ app_logger.dart      # æ—¥å¿—ç³»ç»Ÿ
    â”œâ”€â”€ timer_manager.dart   # Timer ç»Ÿä¸€ç®¡ç†
    â”œâ”€â”€ request_watchdog.dart  # ç½‘ç»œè¯·æ±‚ç›‘æ§
    â””â”€â”€ performance_monitor.dart  # æ€§èƒ½ç›‘æ§
```

### æ•°æ®æµ (å•å‘æµåŠ¨)
```
åç«¯API â†’ Service â†’ ValueNotifier â†’ UI
         â†“
      æœ¬åœ°ç¼“å­˜ (ç¦»çº¿æ¢å¤)
```

**è§„åˆ™**:
1. Service åªè´Ÿè´£è·å–æ•°æ®ï¼Œä¸å¤„ç†ä¸šåŠ¡é€»è¾‘
2. ValueNotifier æ›¿ä»£ setStateï¼Œå‡å°‘é‡å»º
3. UI åªè¯»å–æ•°æ®ï¼Œä¸ä¿®æ”¹æ•°æ®
4. ç¼“å­˜ä»…ç”¨äº App é‡å¯æ¢å¤ï¼Œä¸å‚ä¸å®æ—¶é€»è¾‘

### æ ¸å¿ƒä¾èµ–
```yaml
dependencies:
  provider: ^6.1.2           # çŠ¶æ€ç®¡ç† (é…ç½®æ•°æ®)
  fl_chart: ^0.68.0          # å›¾è¡¨
  window_manager: ^0.3.9     # çª—å£æ§åˆ¶
  http: ^1.2.0               # HTTP Client
  shared_preferences: ^2.2.3 # æœ¬åœ°å­˜å‚¨
  path_provider: ^2.1.3      # æ–‡ä»¶è·¯å¾„
  logger: ^2.3.0             # æ—¥å¿—
```

**ä¸ä½¿ç”¨**:
- âŒ Riverpod (è¿‡åº¦å¤æ‚)
- âŒ Dio (http åŒ…è¶³å¤Ÿ)
- âŒ GetX (ä¸ç¬¦åˆ Flutter è§„èŒƒ)
- âŒ BLoC (è¿‡åº¦æŠ½è±¡)

---

## 4. UI è®¾è®¡è§„èŒƒ (å·¥ä¸š HMI é£æ ¼)

### é…è‰² (æ·±è‰²ä¸»é¢˜)
```dart
// èƒŒæ™¯
bgPrimary: #0a0e14, bgSecondary: #111820, bgCard: #1a2332

// çŠ¶æ€ (ISA-101æ ‡å‡†)
normal: #00e676 (ç»¿), warning: #ffea00 (é»„), alarm: #ff1744 (çº¢), off: #616161 (ç°)

// æ–‡å­—
textPrimary: #e8eaed, textSecondary: #9aa0a6

// æ•°æ®æ›²çº¿
blue: #2196f3, cyan: #00bcd4, orange: #ff9800, purple: #9c27b0
```

### å¸ƒå±€æ¨¡æ¿ (å•é¡µé¢æ•´åˆ)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Header (48px): æ ‡é¢˜ | æ—¶é—´ | è¿æ¥çŠ¶æ€ | æŠ¥è­¦        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å·¦ä¾§å®æ—¶æ•°æ® (60%)      â”‚ å³ä¾§å†å²å›¾è¡¨ (40%)        â”‚
â”‚ - è®¾å¤‡1 å¡ç‰‡ç»„          â”‚ - æ—¶é—´é€‰æ‹©å™¨              â”‚
â”‚ - è®¾å¤‡2 å¡ç‰‡ç»„          â”‚ - è¶‹åŠ¿å›¾è¡¨                â”‚
â”‚ - è®¾å¤‡N å¡ç‰‡ç»„          â”‚ - å‚æ•°é€‰æ‹©                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Footer (32px): è¿æ¥çŠ¶æ€ | åˆ·æ–°æ—¶é—´ | ç‰ˆæœ¬           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç»„ä»¶è§„èŒƒ
| ç»„ä»¶ | å°ºå¯¸ | å­—ä½“ |
|-----|------|-----|
| KPIå¡ç‰‡ | 160Ã—80px | Roboto Mono, 32-48px |
| çŠ¶æ€æŒ‡ç¤º | 12-16pxåœ†ç‚¹ | - |
| æŒ‰é’® | é«˜36-44px | 16px, weight 500 |

---

## 5. æ•°æ®é‡‡é›†è§„èŒƒ

### åˆ·æ–°å‘¨æœŸ
| æ•°æ®ç±»å‹ | å‘¨æœŸ | è¯´æ˜ |
|---------|------|-----|
| æ¸©åº¦/èƒ½è€—/æµé€Ÿ | 1ç§’ | å®æ—¶ç›‘æ§ |
| ç´¯è®¡é‡ | 1ç§’ | æŒç»­ç´¯åŠ  |
| å†å²æŸ¥è¯¢ | æŒ‰éœ€ | ç”¨æˆ·è§¦å‘ |

### è¶‹åŠ¿å›¾è¡¨
- é»˜è®¤çª—å£: 60ç§’ (60ä¸ªæ•°æ®ç‚¹)
- åˆ·æ–°æ–¹å¼: æ»šåŠ¨æ›´æ–° (FIFO)
- Yè½´: è‡ªé€‚åº”èŒƒå›´

### Mock æ•°æ® (å¼€å‘æ¨¡å¼)
```dart
// æ¨¡æ‹Ÿå·¥ä¸šæ•°æ®ç‰¹æ€§
- è¿ç»­æ€§: åŸºäºä¸Šä¸€å€¼ Â± å°å¹…æ³¢åŠ¨
- åˆç†æ€§: æ¸©åº¦ 800-1200Â°C, ç”µå‹ 380VÂ±10V
- è¶‹åŠ¿æ€§: å¯æ¨¡æ‹Ÿå‡æ¸©/é™æ¸©/ç¨³å®šé˜¶æ®µ
```

---

## 6. çŠ¶æ€ç®¡ç† (2 å±‚ç»“æ„)

### å±‚ 1: å®æ—¶æ•°æ® (ValueNotifier)
```dart
// é¡µé¢çº§çŠ¶æ€ï¼Œ5ç§’åˆ·æ–°
final ValueNotifier<Map<String, HopperData>> _hopperDataNotifier = ValueNotifier({});
final ValueNotifier<RollerKilnData?> _rollerKilnDataNotifier = ValueNotifier(null);
final ValueNotifier<ScrFanBatchData?> _scrFanDataNotifier = ValueNotifier(null);
```

### å±‚ 2: é…ç½®æ•°æ® (Provider)
```dart
// å…¨å±€é…ç½®ï¼Œå¯åŠ¨æ—¶åŠ è½½ï¼Œæ‰‹åŠ¨ä¿å­˜
RealtimeConfigProvider: æ¸©åº¦é˜ˆå€¼ã€åŠŸç‡é˜ˆå€¼ã€æ–™ä»“å®¹é‡
AdminProvider: ç®¡ç†å‘˜å¯†ç 
BackendConfigProvider: åç«¯åœ°å€
```

**è§„åˆ™**:
- å®æ—¶æ•°æ®ç”¨ ValueNotifier (é¢‘ç¹å˜åŒ–)
- é…ç½®æ•°æ®ç”¨ Provider (å¶å°”å˜åŒ–)
- ä¸æ··ç”¨ï¼Œä¸åµŒå¥—

---

## 7. ä»£ç æ¨¡å¼ (3 ä¸ªæ¨¡æ¿)

### æ¨¡æ¿ 1: Service (æ•°æ®è·å–)
```dart
class DeviceService {
  final ApiClient _client = ApiClient();
  
  Future<DeviceData> getData() async {
    try {
      final response = await _client.get('/api/device');
      if (response['success'] == true) {
        return DeviceData.fromJson(response['data']);
      }
      return null;
    } catch (e) {
      logger.error('è·å–æ•°æ®å¤±è´¥', e);
      return null;
    }
  }
}
```

### æ¨¡æ¿ 2: Page (é¡µé¢é€»è¾‘)
```dart
class DevicePage extends StatefulWidget {
  @override
  State<DevicePage> createState() => _DevicePageState();
}

class _DevicePageState extends State<DevicePage> {
  final ValueNotifier<DeviceData?> _dataNotifier = ValueNotifier(null);
  late final RealtimeConfigProvider _config;

  @override
  void initState() {
    super.initState();
    // ğŸ”§ ç¼“å­˜ Provider å¼•ç”¨
    _config = context.read<RealtimeConfigProvider>();
    
    // ğŸ”§ ä½¿ç”¨ TimerManager ç®¡ç†å®šæ—¶å™¨
    TimerManager().register(
      'device_page_polling',
      Duration(seconds: 5),
      _fetchData,
      description: 'è®¾å¤‡æ•°æ®è½®è¯¢',
    );
    
    _fetchData();
  }

  Future<void> _fetchData() async {
    if (!mounted) return;
    
    final data = await DeviceService().getData();
    if (mounted && data != null) {
      _dataNotifier.value = data;
    }
  }

  @override
  void dispose() {
    TimerManager().cancel('device_page_polling');
    _dataNotifier.dispose();
    super.dispose();
  }

  @override
  Widget build(BuildContext context) {
    return ValueListenableBuilder<DeviceData?>(
      valueListenable: _dataNotifier,
      builder: (context, data, child) {
        return DeviceWidget(data: data, config: _config);
      },
    );
  }
}
```

### æ¨¡æ¿ 3: Widget (UI ç»„ä»¶)
```dart
class DeviceWidget extends StatelessWidget {
  final DeviceData? data;
  final RealtimeConfigProvider config;

  const DeviceWidget({required this.data, required this.config});

  @override
  Widget build(BuildContext context) {
    final color = config.getColor(data?.value ?? 0);
    return Container(
      color: color,
      child: Text('${data?.value ?? 0}'),
    );
  }
}
```

---

## 8. ä¸šåŠ¡è§„åˆ™ (3 æ¡æ ¸å¿ƒé€»è¾‘)

### è§„åˆ™ 1: è®¾å¤‡è¿è¡Œåˆ¤æ–­
```dart
// åŠŸç‡ >= é˜ˆå€¼ â†’ è¿è¡Œä¸­
bool isRunning = power >= config.normalMax;
```

### è§„åˆ™ 2: çŠ¶æ€é¢œè‰²æ˜ å°„ (ISA-101 æ ‡å‡†)
```dart
if (value <= normalMax) return Color(0xFF00e676);  // ç»¿è‰² - æ­£å¸¸
if (value <= warningMax) return Color(0xFFffea00); // é»„è‰² - è­¦å‘Š
return Color(0xFFff1744);                          // çº¢è‰² - æŠ¥è­¦
```

### è§„åˆ™ 3: æ–™ä»“å®¹é‡è®¡ç®—
```dart
// å½“å‰é‡é‡ / æœ€å¤§å®¹é‡ Ã— 100%
double percentage = (currentWeight / maxCapacity) * 100;
```

---

## 9. æ€§èƒ½ä¼˜åŒ– (3 ä¸ªå…³é”®ç‚¹)

### ä¼˜åŒ– 1: å‡å°‘é‡å»º
```dart
// âŒ é”™è¯¯: æ•´é¡µ setState
setState(() => data = newData);

// âœ… æ­£ç¡®: å±€éƒ¨ ValueNotifier
dataNotifier.value = newData;
```

### ä¼˜åŒ– 2: ç¼“å­˜æŸ¥æ‰¾
```dart
// âŒ é”™è¯¯: æ¯æ¬¡ build æŸ¥æ‰¾
context.read<Provider>().getConfig(id);

// âœ… æ­£ç¡®: initState ç¼“å­˜
late final provider = context.read<Provider>();
```

### ä¼˜åŒ– 3: Timer ç®¡ç†
```dart
// âŒ é”™è¯¯: æ‰‹åŠ¨ç®¡ç† Timer
Timer? _timer;
_timer = Timer.periodic(...);
_timer?.cancel();

// âœ… æ­£ç¡®: ä½¿ç”¨ TimerManager
TimerManager().register('id', Duration(seconds: 5), callback);
TimerManager().cancel('id');
```

---

## 10. é”™è¯¯å¤„ç† (2 çº§å®¹é”™)

### çº§åˆ« 1: é™é»˜å¤±è´¥ (ä¿æŒæ—§æ•°æ®)
```dart
try {
  newData = await fetchData();
  if (newData != null && newData.isValid) {
    notifier.value = newData; // æ›´æ–°
  }
  // å¦‚æœæ— æ•ˆï¼Œä¿æŒæ—§æ•°æ®ä¸å˜
} catch (e) {
  logger.error('æ•°æ®è·å–å¤±è´¥', e);
  // ä¸æ¸…ç©ºæ•°æ®ï¼ŒUI ç»§ç»­æ˜¾ç¤ºæ—§å€¼
}
```

### çº§åˆ« 2: ç”¨æˆ·æç¤º (è¿ç»­å¤±è´¥)
```dart
if (consecutiveFailures >= 3) {
  ScaffoldMessenger.of(context).showSnackBar(
    SnackBar(content: Text('ç½‘ç»œå¼‚å¸¸ï¼Œè¯·æ£€æŸ¥åç«¯æœåŠ¡')),
  );
}
```

---

## 11. ä»£ç å®¡æŸ¥æ¸…å•

### å¿…æŸ¥é¡¹
- [ ] æ‰€æœ‰ Timer åœ¨ dispose æ—¶å–æ¶ˆ
- [ ] æ‰€æœ‰ setState å‰æ£€æŸ¥ mounted
- [ ] æ‰€æœ‰ç½‘ç»œè¯·æ±‚æœ‰è¶…æ—¶æ§åˆ¶ (10ç§’)
- [ ] æ‰€æœ‰ ValueNotifier åœ¨ dispose æ—¶é‡Šæ”¾
- [ ] æ‰€æœ‰ Provider åœ¨ initState æ—¶ç¼“å­˜

### ç¦æ­¢é¡¹
- [ ] âŒ åœ¨ build() ä¸­è°ƒç”¨ context.read()
- [ ] âŒ åœ¨ initState() ä¸­è°ƒç”¨ setState()
- [ ] âŒ åœ¨ dispose() åè®¿é—® State
- [ ] âŒ åœ¨å¾ªç¯ä¸­åˆ›å»º Widget
- [ ] âŒ åœ¨ Timer å›è°ƒä¸­ä¸æ£€æŸ¥ mounted

---

## 12. å¼€å‘å‘½ä»¤

```powershell
# å¼€å‘è¿è¡Œ
flutter run -d windows

# ç”Ÿäº§æ„å»º
flutter build windows --release

# ä»£ç åˆ†æ
flutter analyze

# è¯Šæ–­é—®é¢˜
.\diagnose.ps1
```

---

## 13. å¸¸è§é—®é¢˜

| é—®é¢˜ | åŸå›  | è§£å†³æ–¹æ¡ˆ |
|------|------|---------|
| åº”ç”¨å¡æ­» | setState è¿‡å¤š | æ”¹ç”¨ ValueNotifier |
| å†…å­˜æ³„æ¼ | Timer æœªå–æ¶ˆ | ä½¿ç”¨ TimerManager |
| æ•°æ®ä¸¢å¤± | ç©ºæ•°æ®è¦†ç›– | æ£€æŸ¥ isValid å†æ›´æ–° |
| ç½‘ç»œè¶…æ—¶ | åç«¯æ…¢/æ–­å¼€ | å¢åŠ è¶…æ—¶ + é‡è¯• |
| UI ä¸æ›´æ–° | æœªç”¨ Builder | åŒ…è£¹ ValueListenableBuilder |
| VS 2019 required | Flutter ç‰ˆæœ¬ | å®‰è£… VS 2019 Build Tools |
| DLL missing | ä¾èµ–ç¼ºå¤± | å¤åˆ¶ DLL åˆ° Debug ç›®å½• |

---

## 14. ç¦æ­¢äº‹é¡¹ (å¥¥å¡å§†å‰ƒåˆ€)

### âŒ è¿‡åº¦è®¾è®¡
```dart
// ä¸éœ€è¦: å¤æ‚çš„çŠ¶æ€æœºã€äº‹ä»¶æ€»çº¿ã€ä¾èµ–æ³¨å…¥æ¡†æ¶
// åªéœ€è¦: ValueNotifier + Provider
```

### âŒ è¿‡æ—©ä¼˜åŒ–
```dart
// ä¸éœ€è¦: Isolateã€ç¼“å­˜æ± ã€å¯¹è±¡æ± 
// åªéœ€è¦: å‡å°‘ setStateã€ç¼“å­˜ Provider
```

### âŒ è¿‡åº¦æŠ½è±¡
```dart
// ä¸éœ€è¦: BaseServiceã€BaseProviderã€BaseWidget
// åªéœ€è¦: 3 ä¸ªæ¨¡æ¿ (Service/Page/Widget)
```

### âŒ è¿‡åº¦é…ç½®
```dart
// ä¸éœ€è¦: ç¯å¢ƒå˜é‡ã€é…ç½®æ–‡ä»¶ã€ç‰¹æ€§å¼€å…³
// åªéœ€è¦: ç¡¬ç¼–ç  + SharedPreferences
```

### âŒ éšæ„ç”Ÿæˆæ–‡æ¡£
```
// ç¦æ­¢: æœªç»ç”¨æˆ·æ˜ç¡®è¦æ±‚ï¼Œä¸»åŠ¨åˆ›å»º README.mdã€CHANGELOG.mdã€TODO.md ç­‰æ–‡æ¡£
// åŸåˆ™: åªåœ¨ç”¨æˆ·æ˜ç¡®è¦æ±‚æ—¶æ‰åˆ›å»ºæ–‡æ¡£æ–‡ä»¶
// ä¾‹å¤–: ä»£ç æ³¨é‡Šå’Œ inline æ–‡æ¡£å§‹ç»ˆå…è®¸
```

**é‡è¦è§„åˆ™**:
- âŒ ä¸è¦ä¸»åŠ¨åˆ›å»º `*.md` æ–‡ä»¶ï¼ˆé™¤éç”¨æˆ·æ˜ç¡®è¦æ±‚ï¼‰
- âŒ ä¸è¦ä¸»åŠ¨åˆ›å»º `docs/` ç›®å½•
- âŒ ä¸è¦ä¸»åŠ¨åˆ›å»º `README.md`ã€`CHANGELOG.md`ã€`TODO.md`
- âœ… å¯ä»¥åœ¨ä»£ç ä¸­æ·»åŠ æ³¨é‡Šå’Œæ–‡æ¡£å­—ç¬¦ä¸²
- âœ… å¯ä»¥åœ¨å¯¹è¯ä¸­æä¾›æ–‡æ¡£å†…å®¹ï¼ˆä½†ä¸å†™å…¥æ–‡ä»¶ï¼‰
- âœ… åªæœ‰å½“ç”¨æˆ·æ˜ç¡®è¯´"åˆ›å»ºæ–‡æ¡£"ã€"ç”Ÿæˆ README"æ—¶æ‰åˆ›å»º

**æ–‡æ¡£ç›®å½•è§„èŒƒ**:
- ğŸ“ æ‰€æœ‰é¡¹ç›®æ–‡æ¡£ç»Ÿä¸€å­˜æ”¾åœ¨ `vdoc/` ç›®å½•
- ğŸ“ æ–‡æ¡£å‘½åè§„åˆ™ï¼šå°å†™å­—æ¯ + ä¸‹åˆ’çº¿ï¼ˆå¦‚ `performance_fixes.md`ï¼‰
- ğŸ“š ç°æœ‰æ–‡æ¡£æ¸…å•ï¼š
  - `batch_api_integration.md` - æ‰¹é‡ API é›†æˆæ–‡æ¡£
  - `http_request_optimization.md` - HTTP è¯·æ±‚ä¼˜åŒ–æ–‡æ¡£
  - `performance_fixes.md` - æ€§èƒ½ä¿®å¤æ–‡æ¡£
  - `testing_checklist.md` - æµ‹è¯•æ¸…å•
  - `widget_rebuild_optimization.md` - Widget é‡å»ºä¼˜åŒ–æ–‡æ¡£
  - `refactor.md` - é‡æ„è®°å½•
  - `readme_solution.md` - è§£å†³æ–¹æ¡ˆè¯´æ˜
  - `plc_data_structure_analysis.md` - PLC æ•°æ®ç»“æ„åˆ†æ
  - `plc_db40_data_structure.md` - PLC DB40 æ•°æ®ç»“æ„
  - `rotary_kiln_ui_design_ascii.md` - å›è½¬çª‘ UI è®¾è®¡
  - `pages_directory_structure.md` - é¡µé¢ç›®å½•ç»“æ„
  - `pages_directory_organization_summary.md` - é¡µé¢ç›®å½•ç»„ç»‡æ€»ç»“

---

## 15. å¿«é€Ÿå‚è€ƒ

### æ•°æ®åˆ·æ–°
```dart
// å¯åŠ¨è½®è¯¢
TimerManager().register('id', Duration(seconds: 5), callback);

// æš‚åœè½®è¯¢
TimerManager().cancel('id');

// æ‰‹åŠ¨åˆ·æ–°
await fetchData();
```

### çŠ¶æ€æ›´æ–°
```dart
// æ›´æ–°æ•°æ®
dataNotifier.value = newData;

// ç›‘å¬æ•°æ®
ValueListenableBuilder(
  valueListenable: dataNotifier,
  builder: (context, data, child) => Widget(data),
)
```

### é…ç½®è¯»å–
```dart
// ç¼“å­˜ Provider
late final config = context.read<RealtimeConfigProvider>();

// è¯»å–é…ç½®
final color = config.getRotaryKilnTempColor(deviceId, temperature);
final isRunning = config.isRotaryKilnRunning(deviceId, power);
```

---

**æ–‡æ¡£ç‰ˆæœ¬**: v2.0  
**é€‚ç”¨é¡¹ç›®**: ceramic-workshop-app  
**æ ¸å¿ƒåŸåˆ™**: å¥¥å¡å§†å‰ƒåˆ€ - ç®€å•ã€ç›´æ¥ã€å¤Ÿç”¨å³å¯  
**æ›´æ–°æ—¥æœŸ**: 2026-01-26
